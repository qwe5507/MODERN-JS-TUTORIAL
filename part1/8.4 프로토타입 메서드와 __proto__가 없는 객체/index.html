<!doctype html>
<script src="https://ko.js.cx/test/libs.js"></script>
<script src="test.js"></script>
<script>
  //사전에 toString 추가하기
  let dictionary = Object.create(null, {
    toString: {
      value : function () {
        return Object.keys(this).join();
      }
    }
  });

  // 데이터를 추가합니다.
  dictionary.apple = "Apple";
  dictionary.__proto__ = "test"; // __proto__는 여기서 일반적인 프로퍼티 키입니다.

  // 반복문에는 apple과 __proto__ 만 있습니다.
  for (let key in dictionary) {
    alert(key); // "apple" 다음 "__proto__"입니다.
  }

  // toString이 동작하는 부분입니다.
  alert(dictionary); // "apple,__proto__"

  // 호출 간의 차이점
  function Rabbit(name) {
    this.name = name;
  }
  Rabbit.prototype.sayHi = function () {
    console.log(this);
    alert(this.name);
  }

  let rabbit = new Rabbit("Rabbit");

  rabbit.sayHi();                        // Rabbit
  Rabbit.prototype.sayHi();              // undefined
  Object.getPrototypeOf(rabbit).sayHi(); // undefined
  rabbit.__proto__.sayHi();              // undefined
</script>

</html>