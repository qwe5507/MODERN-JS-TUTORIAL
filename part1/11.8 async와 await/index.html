<!DOCTYPE html>
<html>

<head>
</head>

<body>

  <script>
    // async와 await를 사용하여 코드 변경하기
    async function loadJson(url) {
      let response = await fetch(url);

      if (response.status == 200) {
        return await response.json();
        // Json도 프로미스를 반환하는걸로 추정된다, 그래서 답안 처럼 reponse.json()에 await를 붙이지 않으면, 바깥코드에서 기다려야 한다. 
      }
      throw new Error(response.status);

    }

    loadJson('no-such-user.json')
      .catch(alert); // Error: 404

    // async와 await를 사용해서 '다시 던지기' 예시 재작성하기 
  </script>


</body>

</html>